<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">

<link rel="import" href="../elements/project-form-dialog.html">
<link rel="import" href="../elements/project-card.html">

<dom-module id="projects-view">
    <template>
        <style>
            :host {
                display: block;
                text-align: center;
            }

            .project-cards {
              text-align: center;
            }

            paper-fab {
                position: fixed;
                bottom: 30px;
                right: 30px;
            }
        </style>

        <h1>Projects</h1>

        <firebase-query id="query" path="/projects" data="{{projects}}"></firebase-query>

        <section class="project-cards">
            <template is="dom-repeat" items="[[projects]]" as="project">
                <project-card project="[[project]]"></project-card>
            </template>
        </section>

        <paper-fab icon="add" on-tap="_displayProjectFormDialog">Add Project</paper-fab>
        <project-form-dialog id="projectFormDialog"></project-form-dialog>
    </template>

    <script>
        Polymer({
            is: 'projects-view',
            _displayProjectFormDialog: function() {
                this.$.projectFormDialog.open();
            }
        });
    </script>
</dom-module>
